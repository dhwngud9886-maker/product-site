<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì œí’ˆ / ê³µì§€ / ì´ë²¤íŠ¸</title>

  <style>
    :root{
      --bg:#f7fbff; --card:#fff; --text:#0f172a; --muted:#64748b; --border:#e5e7eb;
      --blue:#2563eb;   /* ì—ì–´ì»¨ */
      --mint:#2dd4bf;   /* ì œìŠµê¸° */
      --orange:#fb923c; /* íˆí„° */
      --sky:#38bdf8; --sky-soft:#e0f2fe;
      --radius:16px;
      --shadow-sm:0 8px 18px rgba(15,23,42,.08);
      --shadow:0 14px 32px rgba(15,23,42,.12);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif;background:var(--bg);color:var(--text)}
    a{color:inherit}
    .container{max-width:1200px;margin:0 auto;padding:0 18px}

    header{background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:50}
    .header-main{display:flex;align-items:center;justify-content:space-between;gap:20px;padding:16px 0}
    .logo{display:flex;align-items:center;gap:10px;font-weight:1000;white-space:nowrap;text-decoration:none}
    .logo-mark{width:34px;height:34px;border-radius:12px;background:linear-gradient(135deg,var(--blue),var(--sky));box-shadow:0 10px 18px rgba(37,99,235,.25)}
    .search{flex:1;display:flex;align-items:center;gap:10px;border:2px solid rgba(37,99,235,.75);border-radius:999px;padding:10px 12px;max-width:720px;min-width:240px}
    .search input{flex:1;min-width:0;border:0;outline:none;font-size:14px;background:transparent}
    .search button{border:0;cursor:pointer;background:transparent;width:36px;height:36px;border-radius:999px}
    .search button:hover{background:rgba(37,99,235,.08)}
    .icons{display:flex;gap:14px;align-items:center;white-space:nowrap}
    .icon-btn{display:flex;flex-direction:column;align-items:center;gap:6px;text-decoration:none;color:var(--muted);font-size:12px;font-weight:800;padding:6px 6px;border-radius:12px}
    .icon-btn:hover{color:var(--text);background:rgba(2,132,199,.08)}
    .icon{width:24px;height:24px;border-radius:8px;border:1px solid var(--border);display:grid;place-items:center;color:var(--blue);background:#fff}

    .nav{border-top:1px solid var(--border);background:#fff}
    .nav-row{display:flex;align-items:center;gap:10px;padding:10px 0;overflow:auto}
    .allcat{display:flex;align-items:center;gap:10px;background:var(--blue);color:#fff;font-weight:1000;border-radius:12px;padding:10px 14px;white-space:nowrap;text-decoration:none}
    .allcat:hover{filter:brightness(.98)}
    .nav a.item{text-decoration:none;font-weight:900;color:var(--text);padding:10px 12px;border-radius:12px;white-space:nowrap;border:1px solid transparent}
    .nav a.item:hover{background:var(--sky-soft);border-color:rgba(56,189,248,.35)}
    .nav a.item.active{background:rgba(37,99,235,.08);border-color:rgba(37,99,235,.25);color:var(--blue)}

    .banner-wrap{padding:18px 0}
    .banner{position:relative;border-radius:20px;overflow:hidden;box-shadow:var(--shadow);background:#0b1220}
    .slides{display:flex;transition:transform .45s ease;will-change:transform}
    .slide{min-width:100%;height:360px;position:relative;color:#fff;display:grid;place-items:center;
      background:radial-gradient(900px 400px at 20% 30%, rgba(56,189,248,.35), rgba(0,0,0,.85))}
    .slide .content{width:100%;height:100%;display:grid;grid-template-columns:1.2fr .8fr;align-items:center;gap:16px;padding:26px 28px}
    .headline{max-width:560px}
    .headline h2{margin:0 0 10px;font-size:40px;line-height:1.1;letter-spacing:-.5px}
    .headline p{margin:0 0 16px;color:rgba(255,255,255,.82);line-height:1.6;font-size:14px}
    .banner-cta{display:flex;gap:10px;flex-wrap:wrap}
    .btn{border:0;cursor:pointer;padding:11px 14px;border-radius:14px;font-weight:1000;background:var(--sky);color:#00202e;text-decoration:none;display:inline-flex;align-items:center;gap:8px}
    .btn:hover{filter:brightness(.98)}
    .btn.ghost{background:transparent;color:#fff;border:1px solid rgba(255,255,255,.25)}
    .hero-img{width:100%;height:100%;border-radius:18px;border:1px solid rgba(255,255,255,.14);
      background:linear-gradient(135deg, rgba(255,255,255,.12), rgba(255,255,255,.02));
      display:grid;place-items:center;position:relative;overflow:hidden}
    .hero-img img{width:100%;height:100%;object-fit:cover;display:block}
    .hero-img .ph{text-align:center;color:rgba(255,255,255,.75);font-weight:900}
    .nav-arrow{position:absolute;top:50%;transform:translateY(-50%);width:44px;height:44px;border-radius:999px;
      border:1px solid rgba(255,255,255,.25);background:rgba(0,0,0,.35);color:#fff;cursor:pointer;display:grid;place-items:center;z-index:2}
    .nav-arrow:hover{background:rgba(0,0,0,.5)}
    .nav-arrow.prev{left:14px} .nav-arrow.next{right:14px}
    .dots{position:absolute;left:50%;bottom:14px;transform:translateX(-50%);display:flex;gap:8px;z-index:2}
    .dot{width:10px;height:10px;border-radius:999px;background:rgba(255,255,255,.35);cursor:pointer;border:1px solid rgba(255,255,255,.25)}
    .dot.active{background:rgba(56,189,248,.95)}

    main{padding:0 0 60px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow-sm);padding:18px}
    .title{display:flex;justify-content:space-between;align-items:flex-end;gap:12px;margin-bottom:12px}
    .title h1{margin:0;font-size:22px;letter-spacing:-.2px}
    .title p{margin:0;color:var(--muted);font-size:13px}
    .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:14px 0 16px}
    .input{background:#fff;border:1px solid var(--border);border-radius:14px;padding:11px 12px;outline:none;color:var(--text);flex:1;min-width:240px}
    .input:focus{border-color:rgba(56,189,248,.75);box-shadow:0 0 0 4px rgba(56,189,248,.18)}
    .btn2{border:0;cursor:pointer;padding:11px 12px;border-radius:14px;font-weight:1000;background:var(--blue);color:#fff;text-decoration:none;display:inline-flex;align-items:center;justify-content:center;gap:8px}
    .btn2.ghost{background:#fff;color:var(--blue);border:1px solid rgba(37,99,235,.25)}

    /* ì œí’ˆ ê°€ë¡œ ìŠ¬ë¼ì´ë” */
    .product-slider{position:relative}
    .grid.slider{display:flex;gap:20px;overflow-x:auto;scroll-behavior:smooth;padding:10px 40px;scroll-snap-type:x mandatory;-ms-overflow-style:none;scrollbar-width:none}
    .grid.slider::-webkit-scrollbar{display:none}
    .slide-arrow{position:absolute;top:50%;transform:translateY(-50%);width:38px;height:38px;border-radius:50%;
      border:none;background:#fff;box-shadow:0 4px 12px rgba(0,0,0,.15);cursor:pointer;font-size:22px;z-index:10}
    .slide-arrow.left{left:0} .slide-arrow.right{right:0}
    .slide-arrow:hover{background:#f0f6ff}

    .p-card{position:relative;background:#fff;border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:var(--shadow-sm);
      transition:transform .16s ease, box-shadow .16s ease, border-color .16s ease;display:flex;flex-direction:column;scroll-snap-align:start;
      flex:0 0 calc((100% - 20px*3)/4);min-width:calc((100% - 20px*3)/4)}
    .p-card:hover{transform:translateY(-4px);box-shadow:var(--shadow);border-color:rgba(56,189,248,.35)}
    .p-thumb{width:100%;height:360px;background:#f8fafc;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:center;overflow:hidden}
    .p-thumb img{max-width:100%;max-height:100%;object-fit:contain;display:block}

    .badge{position:absolute;left:12px;top:12px;font-weight:1000;font-size:12px;padding:6px 10px;border-radius:999px;border:1px solid rgba(0,0,0,.06);background:#eef2ff}
    .badge.aircon{background:rgba(37,99,235,.12);color:var(--blue);border-color:rgba(37,99,235,.18)}
    .badge.dehumidifier{background:rgba(45,212,191,.16);color:#0f766e;border-color:rgba(45,212,191,.22)}
    .badge.heater{background:rgba(251,146,60,.16);color:#c2410c;border-color:rgba(251,146,60,.22)}

    .p-body{padding:12px;display:flex;flex-direction:column;flex:1}
    .p-name{font-weight:1000;margin:0 0 6px;font-size:14px}
    .p-sub{margin:0;color:var(--muted);font-size:12px;line-height:1.45}
    .p-bottom{margin-top:auto;padding-top:12px;display:flex;align-items:center;justify-content:space-between;gap:10px}
    .price{font-weight:1000;font-size:13px}
    .detail-btn{border:0;cursor:pointer;padding:9px 10px;border-radius:12px;font-weight:1000;background:var(--sky);color:#00202e}

    .detail{display:grid;gap:14px;grid-template-columns:1.35fr .65fr;align-items:start}
    .panel{background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow-sm);padding:16px}
    .detail-img{height:520px;border-radius:16px;overflow:hidden;border:1px solid var(--border);background:#f8fafc;display:flex;align-items:center;justify-content:center}
    .detail-img img{max-width:100%;max-height:100%;object-fit:contain}
    .thumbs{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .thumb{width:72px;height:72px;border-radius:14px;border:1px solid var(--border);overflow:hidden;background:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center}
    .thumb img{max-width:100%;max-height:100%;object-fit:contain}
    table{width:100%;border-collapse:collapse;font-size:13px}
    td{padding:10px;border-bottom:1px solid #eef2f7}
    td:first-child{color:var(--muted);width:42%}
    .muted{color:var(--muted)}

    footer{padding:26px 0;color:var(--muted);font-size:13px;text-align:center}
    .quick-menu{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:10px;z-index:60}
    .quick-item{background:#fff;border:1px solid var(--border);border-radius:999px;padding:10px 12px;display:flex;align-items:center;gap:8px;
      box-shadow:var(--shadow-sm);cursor:pointer;text-decoration:none}
    .quick-item .icon{width:22px;height:22px;border-radius:7px}
    .quick-item.top{font-weight:1000}

    @media (max-width: 980px){
      .slide .content{grid-template-columns:1fr;gap:12px}
      .detail{grid-template-columns:1fr}
      .p-card{flex:0 0 calc((100% - 20px)/2);min-width:calc((100% - 20px)/2)}
      .p-thumb{height:300px}
    }
    @media (max-width: 560px){
      .p-card{flex:0 0 90%;min-width:90%}
      .p-thumb{height:280px}
    }
  </style>
</head>

<body>
<header>
  <div class="container">
    <div class="header-main">
      <a class="logo" href="#/">
        <div class="logo-mark"></div>
        <div>
          <div>Product Site</div>
          <span class="sub">ì œí’ˆ/ê³µì§€/ì´ë²¤íŠ¸</span>
        </div>
      </a>

      <div class="search">
        <input id="globalSearchInput" placeholder="ê²€ìƒ‰ (ì˜ˆ: HSC-1170D, ì œìŠµê¸°, ì¸ë²„í„°)" />
        <button id="globalSearchBtn" aria-label="search">ğŸ”</button>
      </div>

      <div class="icons">
        <a class="icon-btn" href="#/contact"><div class="icon">ğŸ’¬</div><div>1:1ë¬¸ì˜</div></a>
      </div>
    </div>
  </div>

  <div class="nav">
    <div class="container">
      <div class="nav-row" id="categoryNav">
        <a class="allcat" href="#/">â˜° ì „ì²´ ì¹´í…Œê³ ë¦¬</a>
      </div>
    </div>
  </div>
</header>

<section class="banner-wrap">
  <div class="container">
    <div class="banner" id="banner">
      <div class="slides" id="slides"></div>
      <button class="nav-arrow prev" id="prevBtn" aria-label="prev">â€¹</button>
      <button class="nav-arrow next" id="nextBtn" aria-label="next">â€º</button>
      <div class="dots" id="dots"></div>
    </div>
  </div>
</section>

<main class="container">
  <div id="app"></div>

  <footer>Â© <span id="year"></span> Product Site. All rights reserved.</footer>

  <div class="quick-menu">
    <a class="quick-item" href="#/notice"><span class="icon">ğŸ“¢</span><span class="label">ê³µì§€</span></a>
    <a class="quick-item" href="#/event"><span class="icon">ğŸ‰</span><span class="label">ì´ë²¤íŠ¸</span></a>
    <a class="quick-item" href="#/contact"><span class="icon">ğŸ’¬</span><span class="label">ë¬¸ì˜</span></a>
    <button class="quick-item top" id="goTop" type="button">â¬†</button>
  </div>
</main>

<script>
  // =========================
  // ë°ì´í„° (ì—¬ê¸°ë§Œ ì½”ë”©ìœ¼ë¡œ ìˆ˜ì •í•˜ë©´ ë¨)
  // =========================

  // ë°°ë„ˆ ë°ì´í„°
  const BANNERS = [
    { title:"ì‚°ì—…ìš© ëƒ‰ë‚œë°© ì†”ë£¨ì…˜", desc:"í˜„ì¥ì— ë§ëŠ” ì œí’ˆì„ ë¹ ë¥´ê²Œ ì°¾ê³  ìƒë‹´ë°›ìœ¼ì„¸ìš”.", cta:"#/", ctaText:"ì œí’ˆ ë³´ê¸°", image:"" },
    { title:"ê³µì§€ì‚¬í•­ í™•ì¸", desc:"ìš´ì˜ ì†Œì‹/ê³µì§€ í™•ì¸", cta:"#/notice", ctaText:"ê³µì§€ ë³´ê¸°", image:"" },
    { title:"ì´ë²¤íŠ¸ ì§„í–‰ì¤‘", desc:"í˜œíƒ/í”„ë¡œëª¨ì…˜ í™•ì¸", cta:"#/event", ctaText:"ì´ë²¤íŠ¸ ë³´ê¸°", image:"" },
  ];

  // ì œí’ˆ ë°ì´í„° (ìƒ˜í”Œ: í•„ìš”í•˜ë©´ ì›ë³¸ PRODUCTSë¥¼ ì—¬ê¸°ì— ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ì–´ë„ ë¨)
  const PRODUCTS = [
    {
      id:"HSC-1170D",
      category:"ì—ì–´ì»¨",
      name:"HSC-1170D",
      short:"10í‰í˜• Â· 28~32ã¡ Â· ì´ë™ì‹ ì—ì–´ì»¨",
      priceText:"ìƒë‹´ë¬¸ì˜",
      thumb:"HSC-1170D/ì¸ë„¤ì¼.png",
      gallery:["HSC-1170D/ì¸ë„¤ì¼.png"],
      detailImages:["HSC-1170D/ìƒì„¸í˜ì´ì§€.jpg"],
      description:"ì €ì†ŒìŒ Â· ë¶€ë¶„/ì§‘ì¤‘ ëƒ‰ë°©",
      specs:{ "ëƒ‰ë°©ëŠ¥ë ¥":"3,500 kcal/h", "ëƒ‰ë°©ë©´ì ":"28~32 ã¡", "ì „ì›":"220Vac 60Hz", "ì œí’ˆê°€ê²©":"ìƒë‹´ë¬¸ì˜" }
    },
    {
      id:"DEH-1000",
      category:"ì œìŠµê¸°",
      name:"DEH-1000",
      short:"ì‚°ì—…ìš© ì œìŠµê¸° Â· ê°•ë ¥ ì œìŠµ",
      priceText:"ìƒë‹´ë¬¸ì˜",
      thumb:"",
      gallery:[],
      detailImages:[],
      description:"ì°½ê³ /ê³µì¥ ìŠµë„ ê´€ë¦¬",
      specs:{ "ì œìŠµëŠ¥ë ¥":"", "ì „ì›":"220Vac 60Hz", "ì œí’ˆê°€ê²©":"ìƒë‹´ë¬¸ì˜" }
    },
    {
      id:"HTR-2000",
      category:"íˆí„°",
      name:"HTR-2000",
      short:"ì‚°ì—…ìš© íˆí„° Â· ë‚œë°©",
      priceText:"ìƒë‹´ë¬¸ì˜",
      thumb:"",
      gallery:[],
      detailImages:[],
      description:"í˜„ì¥ ë‚œë°© ë³´ì¡°",
      specs:{ "ë‚œë°©ëŠ¥ë ¥":"", "ì „ì›":"220Vac 60Hz", "ì œí’ˆê°€ê²©":"ìƒë‹´ë¬¸ì˜" }
    }
  ];

  // ê³µì§€/ì´ë²¤íŠ¸ëŠ” ì½”ë”©ìœ¼ë¡œ ìˆ˜ì • (ê´€ë¦¬ì ê¸°ëŠ¥ ì—†ìŒ)
  const NOTICE_LIST = [
    { id:"n1", title:"í™ˆí˜ì´ì§€ ì˜¤í”ˆ ì•ˆë‚´", date:"2026-02-01", body:"í™ˆí˜ì´ì§€ê°€ ì˜¤í”ˆë˜ì—ˆìŠµë‹ˆë‹¤.\në¬¸ì˜ëŠ” 1:1ë¬¸ì˜ ë©”ë‰´ë¥¼ ì´ìš©í•´ì£¼ì„¸ìš”." },
    { id:"n2", title:"ì„¤ ì—°íœ´ ë°°ì†¡/ìƒë‹´ ì•ˆë‚´", date:"2026-02-05", body:"ì—°íœ´ ê¸°ê°„ ìƒë‹´ ì‘ë‹µì´ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
  ];

  const EVENT_LIST = [
    { id:"e1", title:"2ì›” ìƒë‹´ ì´ë²¤íŠ¸", date:"2026-02-01", body:"2ì›” í•œì • ìƒë‹´ ê³ ê° í˜œíƒ!\nìì„¸í•œ ë‚´ìš©ì€ ë¬¸ì˜í•´ì£¼ì„¸ìš”." },
  ];

  // =========================
  // ìœ í‹¸
  // =========================
  const app = document.getElementById("app");

  function escapeHtml(s){
    return String(s ?? "")
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  function parseRoute(){
    const h = location.hash.replace(/^#\/?/, "");
    if(!h) return [];
    const path = h.split("?")[0];
    return path.split("/").filter(Boolean);
  }
  function parseHashQuery(){
    const hash = location.hash || "";
    const q = hash.split("?")[1] || "";
    const out = {};
    q.split("&").filter(Boolean).forEach(kv=>{
      const [k,v] = kv.split("=");
      out[decodeURIComponent(k)] = decodeURIComponent(v||"");
    });
    return out;
  }

  function sortByDateDesc(list){
    return [...list].sort((a,b)=> String(b.date||"").localeCompare(String(a.date||"")));
  }
  function findById(list, id){
    return (list||[]).find(x => String(x.id) === String(id));
  }

  function categoryBadgeClass(cat){
    if(cat==="ì—ì–´ì»¨") return "aircon";
    if(cat==="ì œìŠµê¸°") return "dehumidifier";
    if(cat==="íˆí„°") return "heater";
    return "";
  }

  // =========================
  // ì¹´í…Œê³ ë¦¬ ë„¤ë¹„
  // =========================
  function renderCategoryNav(activeCat){
    const nav = document.getElementById("categoryNav");
    const cats = ["ì—ì–´ì»¨","ì œìŠµê¸°","íˆí„°"];
    nav.innerHTML = `<a class="allcat" href="#/">â˜° ì „ì²´ ì¹´í…Œê³ ë¦¬</a>` + cats.map(c=>{
      const on = (activeCat===c) ? "active" : "";
      return `<a class="item ${on}" href="#/?cat=${encodeURIComponent(c)}">${escapeHtml(c)}</a>`;
    }).join("")
    + `<a class="item" href="#/notice">ê³µì§€</a><a class="item" href="#/event">ì´ë²¤íŠ¸</a>`;
  }

  // =========================
  // ë°°ë„ˆ
  // =========================
  let bannerIndex = 0;
  let bannerTimer = null;

  function renderBanner(){
    const slidesEl = document.getElementById("slides");
    const dotsEl = document.getElementById("dots");

    slidesEl.innerHTML = BANNERS.map(b=>`
      <div class="slide">
        <div class="content">
          <div class="headline">
            <h2>${escapeHtml(b.title)}</h2>
            <p>${escapeHtml(b.desc)}</p>
            <div class="banner-cta">
              <a class="btn" href="${b.cta}">${escapeHtml(b.ctaText)}</a>
              <a class="btn ghost" href="#/contact">ë¬¸ì˜í•˜ê¸°</a>
            </div>
          </div>
          <div class="hero-img">
            ${b.image ? `<img src="${escapeHtml(b.image)}" alt="" />` : `<div class="ph">ë°°ë„ˆ ì´ë¯¸ì§€</div>`}
          </div>
        </div>
      </div>
    `).join("");

    dotsEl.innerHTML = BANNERS.map((_,i)=>`<div class="dot ${i===0?"active":""}" data-i="${i}"></div>`).join("");

    function go(i){
      bannerIndex = (i + BANNERS.length) % BANNERS.length;
      slidesEl.style.transform = `translateX(${-bannerIndex*100}%)`;
      [...dotsEl.children].forEach((d,idx)=>d.classList.toggle("active", idx===bannerIndex));
    }
    document.getElementById("prevBtn").onclick = ()=>go(bannerIndex-1);
    document.getElementById("nextBtn").onclick = ()=>go(bannerIndex+1);
    dotsEl.onclick = (e)=>{
      const t = e.target.closest(".dot");
      if(!t) return;
      go(Number(t.dataset.i||0));
    };

    if(bannerTimer) clearInterval(bannerTimer);
    bannerTimer = setInterval(()=>go(bannerIndex+1), 4500);
  }

  // =========================
  // ì œí’ˆ ëª©ë¡/ìƒì„¸
  // =========================
  function renderList(){
    const q = parseHashQuery();
    const cat = q.cat || "";
    const kw = (q.q || "").trim().toLowerCase();

    renderCategoryNav(cat);

    const filtered = PRODUCTS.filter(p=>{
      const okCat = !cat || p.category===cat;
      if(!okCat) return false;
      if(!kw) return true;
      const blob = `${p.id} ${p.name} ${p.short} ${p.category} ${p.description}`.toLowerCase();
      return blob.includes(kw);
    });

    app.innerHTML = `
      <div class="card">
        <div class="title">
          <div>
            <h1>${cat ? escapeHtml(cat) : "ì „ì²´ ì œí’ˆ"}</h1>
            <p class="muted">ê°€ë¡œë¡œ ë„˜ê²¨ì„œ ì œí’ˆì„ í™•ì¸í•˜ì„¸ìš”.</p>
          </div>
        </div>

        <div class="product-slider">
          <button class="slide-arrow left" id="slidePrev" type="button">â€¹</button>
          <button class="slide-arrow right" id="slideNext" type="button">â€º</button>

          <div class="grid slider" id="grid">
            ${filtered.map(p=>`
              <div class="p-card">
                <div class="badge ${categoryBadgeClass(p.category)}">${escapeHtml(p.category)}</div>
                <div class="p-thumb">
                  ${p.thumb ? `<img src="${escapeHtml(p.thumb)}" alt="${escapeHtml(p.name)}"/>` : `<div class="muted">ì´ë¯¸ì§€ ì—†ìŒ</div>`}
                </div>
                <div class="p-body">
                  <p class="p-name">${escapeHtml(p.name)}</p>
                  <p class="p-sub">${escapeHtml(p.short||"")}</p>
                  <div class="p-bottom">
                    <div class="price">${escapeHtml(p.priceText||"")}</div>
                    <button class="detail-btn" data-id="${escapeHtml(p.id)}" type="button">ìƒì„¸</button>
                  </div>
                </div>
              </div>
            `).join("") || `<div class="muted" style="padding:18px">ì œí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</div>`}
          </div>
        </div>
      </div>
    `;

    // ìƒì„¸ ì´ë™
    app.querySelectorAll(".detail-btn").forEach(btn=>{
      btn.addEventListener("click", ()=>{
        location.hash = `#/p/${encodeURIComponent(btn.dataset.id)}`;
      });
    });

    // ì¢Œìš° ìŠ¤í¬ë¡¤
    const gridEl = document.getElementById("grid");
    document.getElementById("slidePrev").onclick = ()=> gridEl.scrollBy({left:-420, behavior:"smooth"});
    document.getElementById("slideNext").onclick = ()=> gridEl.scrollBy({left: 420, behavior:"smooth"});
  }

  function renderDetail(id){
    const p = findById(PRODUCTS, id);
    renderCategoryNav("");

    if(!p){
      app.innerHTML = `
        <div class="card">
          <div class="title"><div><h1>ì œí’ˆ</h1><p>í•´ë‹¹ ì œí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div></div>
          <div class="toolbar"><a class="btn2 ghost" href="#/">ëª©ë¡ìœ¼ë¡œ</a></div>
        </div>`;
      return;
    }

    const gallery = (p.gallery && p.gallery.length) ? p.gallery : (p.thumb ? [p.thumb] : []);
    let main = gallery[0] || "";

    app.innerHTML = `
      <div class="card">
        <div class="title">
          <div>
            <h1>${escapeHtml(p.name)}</h1>
            <p class="muted">${escapeHtml(p.short||"")}</p>
          </div>
          <div class="toolbar">
            <a class="btn2 ghost" href="#/">ëª©ë¡</a>
            <a class="btn2" href="#/contact">ë¬¸ì˜í•˜ê¸°</a>
          </div>
        </div>

        <div class="detail">
          <div class="panel">
            <div class="detail-img" id="mainImg">
              ${main ? `<img src="${escapeHtml(main)}" alt="main"/>` : `<div class="muted">ì´ë¯¸ì§€ ì—†ìŒ</div>`}
            </div>
            <div class="thumbs">
              ${gallery.map(src=>`
                <div class="thumb" data-src="${escapeHtml(src)}">
                  <img src="${escapeHtml(src)}" alt="thumb"/>
                </div>
              `).join("")}
            </div>

            ${(p.detailImages && p.detailImages.length) ? `
              <div style="margin-top:16px">
                ${(p.detailImages||[]).map(src=>`
                  <div style="border:1px solid var(--border);border-radius:16px;overflow:hidden;margin-top:12px;background:#fff">
                    <img src="${escapeHtml(src)}" alt="detail" style="width:100%;display:block"/>
                  </div>
                `).join("")}
              </div>
            ` : ""}
          </div>

          <div class="panel">
            <div class="badge ${categoryBadgeClass(p.category)}" style="position:static;display:inline-block;margin-bottom:10px">${escapeHtml(p.category)}</div>
            <div style="font-weight:1000;margin-bottom:8px">${escapeHtml(p.priceText||"")}</div>
            <div class="muted" style="line-height:1.7;font-size:13px;margin-bottom:12px">${escapeHtml(p.description||"")}</div>

            <div style="font-weight:1000;margin:12px 0 10px">ìŠ¤í™</div>
            <table>
              ${Object.entries(p.specs||{}).map(([k,v])=>`
                <tr><td>${escapeHtml(k)}</td><td><b>${escapeHtml(v)}</b></td></tr>
              `).join("") || `<tr><td colspan="2" class="muted">ìŠ¤í™ ì •ë³´ ì—†ìŒ</td></tr>`}
            </table>
          </div>
        </div>
      </div>
    `;

    // ì¸ë„¤ì¼ í´ë¦­
    app.querySelectorAll(".thumb").forEach(t=>{
      t.addEventListener("click", ()=>{
        const src = t.dataset.src || "";
        document.getElementById("mainImg").innerHTML = src
          ? `<img src="${escapeHtml(src)}" alt="main"/>`
          : `<div class="muted">ì´ë¯¸ì§€ ì—†ìŒ</div>`;
      });
    });
  }

  // =========================
  // ê³µì§€/ì´ë²¤íŠ¸ (ê´€ë¦¬ì/ìˆ˜ì • ì—†ìŒ)
  // =========================
  function renderNoticeList(){
    renderCategoryNav("");
    const items = sortByDateDesc(NOTICE_LIST);

    app.innerHTML = `
      <div class="card">
        <div class="title">
          <div><h1>ê³µì§€ì‚¬í•­</h1><p>ìš´ì˜ ì†Œì‹ê³¼ ì•ˆë‚´ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p></div>
        </div>
        <div class="panel">
          ${items.map(n=>`
            <a href="#/notice/${encodeURIComponent(n.id)}" style="display:block;padding:12px 0;border-bottom:1px solid #eef2f7;text-decoration:none;color:inherit">
              <div style="display:flex;justify-content:space-between;gap:10px;align-items:baseline">
                <b style="font-size:14px">${escapeHtml(n.title)}</b>
                <span style="color:var(--muted);font-size:12px">${escapeHtml(n.date||"")}</span>
              </div>
              <div style="margin-top:6px;color:var(--muted);font-size:13px;line-height:1.6">
                ${escapeHtml((n.body||"").slice(0, 90))}${(n.body||"").length>90 ? "â€¦" : ""}
              </div>
            </a>
          `).join("") || `<div class="muted">ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</div>`}
        </div>
      </div>
    `;
  }

  function renderNoticeDetail(id){
    renderCategoryNav("");
    const item = findById(NOTICE_LIST, id);

    if(!item){
      app.innerHTML = `
        <div class="card">
          <div class="title"><div><h1>ê³µì§€ì‚¬í•­</h1><p>í•´ë‹¹ ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div></div>
          <div class="toolbar"><a class="btn2 ghost" href="#/notice">ëª©ë¡ìœ¼ë¡œ</a></div>
        </div>`;
      return;
    }

    app.innerHTML = `
      <div class="card">
        <div class="title">
          <div>
            <h1>${escapeHtml(item.title)}</h1>
            <p>${escapeHtml(item.date||"")}</p>
          </div>
          <div class="toolbar">
            <a class="btn2 ghost" href="#/notice">ëª©ë¡</a>
          </div>
        </div>
        <div class="panel" style="line-height:1.8;font-size:14px;white-space:pre-wrap">
          ${escapeHtml(item.body||"")}
        </div>
      </div>
    `;
  }

  function renderEventList(){
    renderCategoryNav("");
    const items = sortByDateDesc(EVENT_LIST);

    app.innerHTML = `
      <div class="card">
        <div class="title">
          <div><h1>ì´ë²¤íŠ¸</h1><p>ì§„í–‰ ì¤‘ì¸ í”„ë¡œëª¨ì…˜/í˜œíƒì„ í™•ì¸í•˜ì„¸ìš”.</p></div>
        </div>
        <div class="panel">
          ${items.map(e=>`
            <a href="#/event/${encodeURIComponent(e.id)}" style="display:block;padding:12px 0;border-bottom:1px solid #eef2f7;text-decoration:none;color:inherit">
              <div style="display:flex;justify-content:space-between;gap:10px;align-items:baseline">
                <b style="font-size:14px">${escapeHtml(e.title)}</b>
                <span style="color:var(--muted);font-size:12px">${escapeHtml(e.date||"")}</span>
              </div>
              <div style="margin-top:6px;color:var(--muted);font-size:13px;line-height:1.6">
                ${escapeHtml((e.body||"").slice(0, 90))}${(e.body||"").length>90 ? "â€¦" : ""}
              </div>
            </a>
          `).join("") || `<div class="muted">ì´ë²¤íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`}
        </div>
      </div>
    `;
  }

  function renderEventDetail(id){
    renderCategoryNav("");
    const item = findById(EVENT_LIST, id);

    if(!item){
      app.innerHTML = `
        <div class="card">
          <div class="title"><div><h1>ì´ë²¤íŠ¸</h1><p>í•´ë‹¹ ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p></div></div>
          <div class="toolbar"><a class="btn2 ghost" href="#/event">ëª©ë¡ìœ¼ë¡œ</a></div>
        </div>`;
      return;
    }

    app.innerHTML = `
      <div class="card">
        <div class="title">
          <div>
            <h1>${escapeHtml(item.title)}</h1>
            <p>${escapeHtml(item.date||"")}</p>
          </div>
          <div class="toolbar">
            <a class="btn2 ghost" href="#/event">ëª©ë¡</a>
          </div>
        </div>
        <div class="panel" style="line-height:1.8;font-size:14px;white-space:pre-wrap">
          ${escapeHtml(item.body||"")}
        </div>
      </div>
    `;
  }

  // =========================
  // ë¬¸ì˜
  // =========================
  function renderContact(){
    renderCategoryNav("");
    app.innerHTML = `
      <div class="card">
        <div class="title"><div><h1>1:1 ë¬¸ì˜</h1><p>ì—°ë½ì²˜/ë¬¸ì˜ë‚´ìš©ì„ ë‚¨ê²¨ì£¼ì„¸ìš”.</p></div></div>
        <div class="panel">
          <div class="muted" style="line-height:1.8">
            â€¢ ì „í™”: 010-0000-0000<br/>
            â€¢ ì´ë©”ì¼: hello@example.com<br/><br/>
            ë¬¸ì˜ ì±„ë„ì„ ì‹¤ì œ ì •ë³´ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.
          </div>
        </div>
      </div>
    `;
  }

  // =========================
  // ê²€ìƒ‰ ë°”ì¸ë”©
  // =========================
  function bindGlobalSearch(){
    const input = document.getElementById("globalSearchInput");
    const btn = document.getElementById("globalSearchBtn");

    function apply(){
      const q = input.value.trim();
      const now = parseHashQuery();
      const cat = now.cat ? `cat=${encodeURIComponent(now.cat)}&` : "";
      location.hash = `#/?${cat}q=${encodeURIComponent(q)}`;
    }

    btn.addEventListener("click", apply);
    input.addEventListener("keydown", (e)=>{
      if(e.key==="Enter") apply();
    });

    // í•´ì‹œì—ì„œ qê°€ ë°”ë€Œë©´ inputë„ ë™ê¸°í™”
    function sync(){
      const hq = parseHashQuery();
      input.value = hq.q || "";
    }
    window.addEventListener("hashchange", sync);
    sync();
  }

  // =========================
  // Router (admin ë¶„ê¸° ì—†ìŒ)
  // =========================
  function render(){
    const parts = parseRoute();

    if(parts.length === 0){
      return renderList();
    }
    if(parts[0] === "p" && parts[1]){
      return renderDetail(decodeURIComponent(parts[1]));
    }
    if(parts[0] === "contact"){
      return renderContact();
    }
    if(parts[0] === "notice"){
      if(parts[1]) return renderNoticeDetail(decodeURIComponent(parts[1]));
      return renderNoticeList();
    }
    if(parts[0] === "event"){
      if(parts[1]) return renderEventDetail(decodeURIComponent(parts[1]));
      return renderEventList();
    }
    return renderList();
  }

  // =========================
  // Init
  // =========================
  document.getElementById("year").textContent = new Date().getFullYear();
  renderBanner();
  bindGlobalSearch();
  window.addEventListener("hashchange", render);
  render();

  // ì¹´í…Œê³ ë¦¬ ë„¤ë¹„ ë™ê¸°í™”
  window.addEventListener("hashchange", ()=>{
    const q = parseHashQuery();
    renderCategoryNav(q.cat || "");
  });

  // Top ë²„íŠ¼
  document.getElementById("goTop").addEventListener("click", ()=>{
    window.scrollTo({top:0, behavior:"smooth"});
  });
</script>
</body>
</html>
